# CMOS Full Adder & D Flip-Flop (HSPICE, 180 nm)

## Overview

This project contains **transistor-level CMOS implementations** of a 1‑bit full adder and an edge‑triggered D flip‑flop using the TSMC 180 nm process.  
The HSPICE netlists explore:

- Functional correctness of the logic cells
- Propagation delay of **Sum** and **Cout**
- Dynamic energy and average power consumption
- Behaviour of a clocked storage element (DFF)

The designs use parametrised device widths (`N`, `P`) and 1.8 V supply.

---

## Files

### Full Adder Netlists

- `cmos_full_adder_structural.sp`  
  Base transistor‑level CMOS implementation of a 1‑bit full adder driven by three independent PULSE sources.  
  Used to verify correct Sum/Cout logic over all input combinations.

- `cmos_full_adder_structural_named.sp`  
  Same full‑adder topology as above, but with **named nets** (`A`, `B`, `Cin`, `Sum`, `Cout`) to make the circuit easier to read and debug.

- `cmos_full_adder_delay_base.sp`  
  Full adder driven by a single toggling input while others are held constant.  
  Provides a clean stimulus for delay and waveform inspection at the internal Sum/Cout nodes.

- `cmos_full_adder_delay_cout.sp`  
  Measurement‑focused netlist that uses HSPICE `.measure` statements to extract:
  - High‑to‑low and low‑to‑high propagation delay for **`Cout`**
  - Rise/fall times at the Cout node
  - Integrated supply current to estimate **energy per operation** and **average power**

- `cmos_full_adder_delay_sum.sp`  
  Similar to the previous file, but all `.measure` statements target the **`Sum`** output instead of `Cout`, allowing a comparison between the two outputs.

### D Flip-Flop Netlist

- `cmos_d_flip_flop.sp`  
  Transistor‑level HSPICE netlist for a **master–slave D flip‑flop**, built from inverters and clocked transmission/logic stages.  
  - Differential clock inputs `clk` / `Nclk` are generated by complementary PULSE sources.  
  - The data input `D` is a PWL waveform that changes around the clock edge so setup/hold behaviour can be observed.  
  - Outputs `Q` and `NQ` are buffered by inverters for realistic loading.

---

## Technology & Modelling

- Process: **TSMC 0.18 µm** (included via `mosistsmc180.lib`)
- Supply voltage: **1.8 V**, parameterised as `SUPPLY`
- Transistor sizing:
  - `WN`, `WP` set minimum nMOS/pMOS widths
  - Effective widths for each device expressed as multiples of `N` and `P`
- Parasitic loading:
  - Output nodes are loaded with explicit capacitors (`CLC`, `CLS`) to emulate wiring and fan‑out.

---

## Example HSPICE Features Used

Across the netlists you can see use of:

- `.param` for technology‑independent scaling
- PULSE and piecewise linear (`PWL`) sources for input patterns
- `.TRAN` transient analysis with picosecond time steps
- `.measure`:
  - propagation delay (`tpdr`, `tpdf`, `tpd`)
  - rise/fall times (`trise`, `tfall`)
  - energy and power from integrated supply current

These showcase practical **SPICE‑level characterization** of digital standard‑cell style circuits.

---

## How to Run the Simulations

1. Open the desired `.sp` file in HSPICE (or a compatible SPICE tool).
2. Ensure the TSMC 180 nm model file (`mosistsmc180.lib`) is available at the path referenced in the `.include` line, or update the path accordingly.
3. Run a transient simulation; all required `.TRAN` and `.measure` statements are already included.
4. Plot waveforms for the key nodes:
   - Full adder: `A`, `B`, `Cin`, `Sum`, `Cout`
   - DFF: `clk`, `D`, `Q`, `NQ`
5. Inspect the generated listing file to see the measured delay, energy, and power values.

This project demonstrates **device‑level digital design**, timing characterization, and power analysis in HSPICE.
